<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø±ÙŠÙ…ÙˆØª Ø§Ù„Ø°ÙƒÙŠ ğŸ”</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <style>
        body { background: #1a1a1a; color: white; text-align: center; font-family: sans-serif; padding: 20px; }
        .card { background: #222; padding: 20px; border-radius: 20px; border: 2px solid #ff9f43; max-width: 450px; margin: auto; }
        #adminArea { display: none; }
        input { width: 85%; padding: 12px; margin: 10px 0; border-radius: 8px; background: #333; color: white; border: 1px solid #444; }
        button { width: 100%; padding: 12px; background: #ff9f43; color: black; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; margin: 5px 0; }
        .keep-row { display: flex; align-items: center; justify-content: center; gap: 10px; font-size: 14px; color: #aaa; margin-bottom: 10px; }
        input[type="checkbox"] { width: 18px; height: 18px; cursor: pointer; }
        .blue { background: #3498db; color: white; }
        .red { background: #e74c3c; color: white; }
    </style>
</head>
<body>

    <div class="card">
        <div id="lock">
            <h2>Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±Ù ğŸ”</h2>
            <input type="password" id="pw" placeholder="Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ø³Ø±ÙŠ...">
            <button onclick="login()">Ø¯Ø®ÙˆÙ„</button>
        </div>

        <div id="adminArea">
            <h2 style="color:#ff9f43;">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ù…Ø¤Ù‚ØªØ© â³</h2>
            
            <input type="text" id="n" placeholder="Ù†Øµ Ø¬Ø¯ÙŠØ¯...">
            <div class="keep-row">
                <input type="checkbox" id="keepNote"> Ø­ÙØ¸ Ø¯Ø§Ø¦Ù… (Ø¨Ø¯ÙˆÙ† Ø­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ)
            </div>
            <button onclick="save('note', 'n', 'keepNote')">ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Øµ</button>
            
            <hr style="margin:20px 0; border-color:#444;">
            
            <input type="text" id="v" placeholder="Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨...">
            <div class="keep-row">
                <input type="checkbox" id="keepVideo"> Ø­ÙØ¸ Ø¯Ø§Ø¦Ù… (Ø¨Ø¯ÙˆÙ† Ø­Ø°Ù ØªÙ„Ù‚Ø§Ø¦ÙŠ)
            </div>
            <button class="red" onclick="save('video_url', 'v', 'keepVideo')">ØªØ´ØºÙŠÙ„ ÙÙŠØ¯ÙŠÙˆ ğŸ¥</button>
            <button style="background:#555; color:white;" onclick="db.ref('video_url').set('')">Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø§Ù„Ø¢Ù†</button>
        </div>
    </div>

    <script>
        const conf = { databaseURL: "https://ourphotoshare-a874a-default-rtdb.firebaseio.com" };
        firebase.initializeApp(conf);
        const db = firebase.database();

        function login() {
            if(document.getElementById('pw').value === "1234") {
                document.getElementById('lock').style.display = 'none';
                document.getElementById('adminArea').style.display = 'block';
            } else { alert("Ø®Ø·Ø£!"); }
        }

        function save(path, inputId, checkId) {
            const val = document.getElementById(inputId).value;
            const keep = document.getElementById(checkId).checked;
            
            if(val) {
                // Ù†Ø±Ø³Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ø¹ "ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡" ÙˆØ¹Ù„Ø§Ù…Ø© "Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ø¯Ø§Ø¦Ù…"
                db.ref(path).set({
                    content: val,
                    timestamp: Date.now(),
                    permanent: keep
                }).then(() => {
                    alert(keep ? "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« (Ø¯Ø§Ø¦Ù…) âœ…" : "ØªÙ… Ø§Ù„ØªØ­Ø¯ÙŠØ« (Ø³ÙŠØ­Ø°Ù Ø¨Ø¹Ø¯ Ø³Ø§Ø¹Ø©) â³");
                    document.getElementById(inputId).value = "";
                });
            }
        }
    </script>
</body>
</html>
